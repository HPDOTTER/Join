<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join</title>
    <link rel="shortcut icon" href="../assets/icons/favicon/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../style/standard.css">
    <link rel="stylesheet" href="../style/fonts.css">
    <link rel="stylesheet" href="../style/assets.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../style/task.css">
    <link rel="stylesheet" href="../style/add-task.css">
    <link rel="stylesheet" href="../style/menu-bar.css">
    <link rel="stylesheet" href="../style/board-overlay.css">
    <link rel="stylesheet" href="../style/contacts.css">

    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <script src="../script.js"></script>
    <script src="../scripts/contacts.js" defer></script>
    <script src="../scripts/add-task.js" defer></script>
    <script src="../scripts/task.js" defer></script>
    <script src="../scripts/dataStorage.js" defer></script>
    <script src="../scripts/template.js" defer></script>
    <script src="../scripts/board-overlay.js" defer></script>
</head>

<body onload="renderTasks(); init()">
    <header w3-include-html="header.html"></header>
    <div class="site-body-wrapper">
        <div class="menu-bar-left">
            <div w3-include-html="menu-bar.html"></div>
        </div>
        <div class="boardmain">
            <div class="boardheader">
                <div class="boardheader-search">
                    <div class="searchbar-section">
                        <div class="task-search-bar">
                            <input class="task-search-input" type="text" id="searchTask" placeholder="Find Task"
                                oninput="filter()">
                            <div class="task-search-devider"></div>
                            <label for="searchTask">
                                <img src="../assets/icons/icon-search.svg" alt="">
                            </label>
                        </div>
                        <div id="noTasksMessage" class="no-task-message">No tasks found</div>
                    </div>
                    <button class="button-primary button-add-task" id="addTaskButton" onclick="openNewTaskOverlay(1)">Add Task
                        +</button>
                </div>
            </div>
            <main id="kanbanBoard" class="task-kanban-board">
                <div class="column" data-status="1">
                    <div class="task-table-header-element">
                        <h4>To do</h4>
                        <button class="add-column" onclick="openNewTaskOverlay(1)"><img
                                src="../assets/icons/icon-plus-button.svg"></button>
                    </div>
                    <div class="tasks" id="toDoDrag" ondrop="moveTo(1)" ondragover="allowDrop(event); highlight(1)"
                        ondragleave="removeHighlight(1)"></div>
                </div>
                <div class="column" data-status="2">
                    <div class="task-table-header-element">
                        <h4>In Progress</h4>
                        <button class="add-column" onclick="openNewTaskOverlay(2)"><img
                                src="../assets/icons/icon-plus-button.svg"></button>
                    </div>
                    <div class="tasks" id="inProgressDrag" ondrop="moveTo(2)"
                        ondragover="allowDrop(event); highlight(2)" ondragleave="removeHighlight(2)"></div>
                </div>
                <div class="column" data-status="3">
                    <div class="task-table-header-element">
                        <h4>Await Feedback</h4>
                        <button class="add-column" onclick="openNewTaskOverlay(3)"><img
                                src="../assets/icons/icon-plus-button.svg"></button>
                    </div>
                    <div class="tasks" id="awaitFeedbackDrag" ondrop="moveTo(3)"
                        ondragover="allowDrop(event); highlight(3)" ondragleave="removeHighlight(3)"></div>
                </div>
                <div class="column" data-status="4">
                    <div class="task-table-header-element">
                        <h4>Done</h4>
                    </div>
                    <div class="tasks" id="doneDrag" ondrop="moveTo(4)" ondragover="allowDrop(event); highlight(4)"
                        ondragleave="removeHighlight(4)"></div>
                </div>
            </main>
        </div>
    </div>
    <main id="kanbanBoard" class="task-kanban-board">
        <div class="column" data-status="1">
            <div class="tasks"></div>
        </div>
        <div class="column" data-status="2">
            <div class="tasks"></div>
        </div>
        <div class="column" data-status="3">
            <div class="tasks"></div>
        </div>
        <div class="column" data-status="4">
            <div class="tasks"></div>
        </div>
    </main>
    </div>
    <div id="taskOverlay" class="task-overlay"></div>
    <div class="contact-add-form create-new-task-overlay" id="new-task-overlay">
        <div id="taskAdd" class="add-task-area">
          <div><h1>Add Task</h1></div>  
            <div class="add-task-info-element">
              <div class="input-wrapper">
                <input type="text" placeholder="Enter a title" class="input add-task-input-title" id="taskTitle" required="">
              </div>
            </div>
  
            <div class="add-task-info-element">
              <label for="taskDescription">Description <span>(optional)</span></label>
              <textarea id="taskDescription" placeholder="Enter a description" class="add-task-textarea"></textarea>
              <div class="custom-resize-handle"></div>
            </div>
  
            <div class="add-task-info-element">
  
              <label for="taskDate">Due date</label>
              <div class="input-wrapper">
                <input type="date" placeholder="dd/mm/yyyy" class="input" id="taskDate" required="">
                <img src="../assets/icons/icon-calender.jpg" class="add-task-input-date-icon">
              </div>
            </div>
  
            <div class="add-task-info-element">
              <label for="taskPriority">Priority</label>
              <div id="taskPriority" class="add-task-priority-area">
                <img class="icon-add-task-priority-urgent pointer" id="1" onclick="setOverlayTaskPriority('1')">
                <img class="icon-add-task-priority-medium pointer" id="2" onclick="setOverlayTaskPriority('2')">
                <img class="icon-add-task-priority-low pointer" id="3" onclick="setOverlayTaskPriority('3')">
              </div>
            </div>
          
            <div class="add-task-info-element">
              <label for="taskAssignedTo">Assigned to <span>(optional)</span></label>
              <button class="add-task-assigned-to-button" onclick="toggleDropdown()">
                <p id="addTaskAssignedToValue">Select contacts to assign</p>
                <img class="icon-add-task-assigned-to-button-arrow">
              </button>
              <div id="taskAssignedToMenu" class="dropdown-menu">
                <!-- Dynamisch generierte Kontakte mit Checkboxen -->
              <div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(252, 113, 255);">AM</div><p>Anna Meier</p><input type="checkbox" class="contact-checkbox" id="contact.0"><label for="contact.0" class="contact-label">Anna Meier</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(195, 255, 43);">AS</div><p>Anton Sippel</p><input type="checkbox" class="contact-checkbox" id="contact.1"><label for="contact.1" class="contact-label">Anton Sippel</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(255, 94, 179);">CH</div><p>chris</p><input type="checkbox" class="contact-checkbox" id="contact.2"><label for="contact.2" class="contact-label">chris</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(0, 190, 232);">EH</div><p>Emma Hofmann</p><input type="checkbox" class="contact-checkbox" id="contact.3"><label for="contact.3" class="contact-label">Emma Hofmann</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(252, 113, 255);">FN</div><p>Felix Neumann</p><input type="checkbox" class="contact-checkbox" id="contact.4"><label for="contact.4" class="contact-label">Felix Neumann</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(0, 56, 255);">JB</div><p>Jonas Becker</p><input type="checkbox" class="contact-checkbox" id="contact.5"><label for="contact.5" class="contact-label">Jonas Becker</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(147, 39, 255);">LF</div><p>Leonie Fischer</p><input type="checkbox" class="contact-checkbox" id="contact.6"><label for="contact.6" class="contact-label">Leonie Fischer</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(255, 116, 94);">LB</div><p>Lukas Braun</p><input type="checkbox" class="contact-checkbox" id="contact.7"><label for="contact.7" class="contact-label">Lukas Braun</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(110, 82, 255);">MS</div><p>Miriam Schuster</p><input type="checkbox" class="contact-checkbox" id="contact.8"><label for="contact.8" class="contact-label">Miriam Schuster</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(31, 215, 193);">PW</div><p>Paul Wagner</p><input type="checkbox" class="contact-checkbox" id="contact.9"><label for="contact.9" class="contact-label">Paul Wagner</label></div><div class="dropdown-item"><div class="dropdown-item-avatar" style="background-color: rgb(255, 94, 179);">SK</div><p>Sophia Keller</p><input type="checkbox" class="contact-checkbox" id="contact.10"><label for="contact.10" class="contact-label">Sophia Keller</label></div></div>
              <div class="dropdown-menu">
                <div class="dropdown-item active" id="dropdown-item">
                </div>
               </div>
            </div>
            <div id="taskMembers"></div>
  
            <div class="add-task-info-element">
              <label>Category</label>
              <button class="add-task-category-button" id="add-task-category-button" onclick="toggleCategoryDropdown()">
                <p id="addTaskCategoryValue">Select task category</p>
                <img class="icon-add-task-category-button-arrow">
              </button>
              <div id="categoryDropdown" class="dropdown-menu">
                <div class="dropdown-category-item" data-value="false" onclick="selectCategory(this)">Technical Task</div>
                <div class="dropdown-category-item" data-value="true" onclick="selectCategory(this)">User Story</div>
              </div>
            </div>
  
            <div class="add-task-info-element">
              <div class="add-task-info-element-header">Subtasks <span>(optional)</span></div>
              <div class="add-task-category-button">
                <input type="text" id="subtaskInput" placeholder="Add new subtask">
                <div class="ifSubtaskvalue" id="ifSubtaskvalue">
                  <button onclick="clearSubtask()" class="iconSubtask"><img src="../assets/icons/icon-cancel-active.png"></button>
                  <div class="subtaskDevider"></div>
                  <button onclick="addSubtask()" class="iconSubtask"><img src="../assets/icons/icon-check-active.png"></button>
                </div>
                <label for="subtaskInput" id="addSubtaskPlus"><img class="icon-add-subtask-button-plus"></label>
              </div>
              <ul id="taskAddSubtasksContent">
              </ul>
            </div>
            <button class="button-primary create-task-button">Create Task<img src="../assets/icons/icon-whitecheck.svg" alt=""></button>
          </div>
    </div>
</body>

</html>